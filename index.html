<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Luma Aesthetics — Where Luxury Meets Skin</title>
  <meta name="description" content="Experience cutting-edge beauty treatments tailored to you. Seamless booking, luxury experience."/>
  <meta name="format-detection" content="telephone=no,email=no,address=no"/>

  <!-- Open Graph -->
  <meta property="og:title" content="Luma Aesthetics — Luxury Med Spa"/>
  <meta property="og:description" content="Concierge-grade treatments with seamless booking."/>
  <!-- FIX: match actual filename casing; using HERO.PNG consistently -->
  <meta property="og:image" content="HERO.PNG"/>
  <meta property="og:type" content="website"/>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <!-- Endpoint (kept for form + webhooks) -->
  <script>
    window.PILOT_ENDPOINT = "https://script.google.com/macros/s/AKfycbxo6ydLwrbog8qmDbgxlnkgm29WAOTqW8hvlajqkX-qNiQXgOqj_KYIPN_YhSbeacOz1w/exec";
  </script>

  <style>
    :root{--white:#ffffff;--ink:#111;--muted:#6b6b6b;--bg:#000;--panel:#0f0f0f;
      --blush:#eeb7c9;--blush-dark:#d596aa;--max:1100px;--radius:16px;--nav-h:68px}
    *{box-sizing:border-box}
    html,body{margin:0;background:var(--bg);color:#fff;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
    img{max-width:100%;display:block}
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--max);margin:0 auto;padding:0 18px}
    .topbar{position:fixed;top:0;left:0;right:0;z-index:100;height:var(--nav-h);
      background:linear-gradient(180deg,rgba(10,10,10,.85),rgba(10,10,10,.65));
      backdrop-filter:blur(14px) saturate(150%);-webkit-backdrop-filter:blur(14px) saturate(150%);
      border-bottom:1px solid rgba(255,255,255,.08)}
    .topbar__inner{max-width:var(--max);margin:0 auto;height:100%;display:flex;align-items:center;justify-content:space-between;padding:0 18px}
    .brand{font-family:"Playfair Display",serif;font-size:24px;letter-spacing:.04em}
    .links{display:flex;gap:24px;align-items:center}
    .links a{padding:8px 12px;border-radius:12px;border:1px solid transparent;transition:.2s}
    .links a:hover{background:rgba(255,255,255,.08);color:var(--blush);border-color:rgba(255,255,255,.12)}
    .burger{display:none;width:40px;height:40px;border-radius:12px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.16);align-items:center;justify-content:center}
    .burger span{width:18px;height:2px;background:#fff;position:relative;display:block}
    .burger span::before,.burger span::after{content:"";position:absolute;left:0;width:18px;height:2px;background:#fff}
    .burger span::before{top:-6px}.burger span::after{top:6px}
    @media (max-width:960px){.links{display:none}.burger{display:flex}}
    body{padding-top:var(--nav-h)}
    .drawer{position:fixed;top:calc(var(--nav-h) + 8px);left:12px;right:12px;background:rgba(20,20,20,.92);
      backdrop-filter:blur(16px) saturate(150%);-webkit-backdrop-filter:blur(16px) saturate(150%);
      border:1px solid rgba(255,255,255,.12);box-shadow:0 18px 60px rgba(0,0,0,.45);
      border-radius:18px;overflow:hidden;display:none;z-index:110;opacity:0;transform:translateY(-10px) scale(.98);transition:.2s}
    .drawer.open{display:block;opacity:1;transform:translateY(0) scale(1)}
    .drawer a{display:block;padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.08)}
    .drawer a:last-child{border-bottom:0}
    .drawer a:hover{background:rgba(255,255,255,.06);color:var(--blush)}
    .hero{padding-top:0;position:relative}
    .hero__wrap{max-width:var(--max);margin:0 auto;border-radius:var(--radius);overflow:hidden}
    .hero__img{position:relative;height:88vh;min-height:640px;background:#000 url('HERO.PNG') center/cover no-repeat}
    .hero__veil{position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.28),rgba(0,0,0,.70))}
    .hero__copy{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 24px}
    .hero__inner{max-width:760px}
    .title{font-family:"Playfair Display",serif;font-weight:700;line-height:1.04;font-size:clamp(34px,6.2vw,68px);margin:0 0 10px;text-shadow:0 2px 18px rgba(0,0,0,.45)}
    .sub{color:#eee;font-size:clamp(15px,2.2vw,20px);text-shadow:0 1px 12px rgba(0,0,0,.35)}
    .cta{margin-top:22px;display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
    .btn{display:inline-block;padding:14px 22px;border-radius:999px;border:0;font-weight:700;cursor:pointer;transition:.2s}
    .btn--blush{background:var(--blush);color:#111;box-shadow:0 10px 28px rgba(238,183,201,.25)}
    .btn--blush:hover,.btn--ghost:hover{transform:translateY(-2px)}
    .btn--ghost{background:transparent;color:#fff;border:1px solid rgba(255,255,255,.55)}
    section{padding:80px 0;border-top:1px solid rgba(255,255,255,.06)}
    .kicker{letter-spacing:.22em;text-transform:uppercase;color:var(--blush);font-size:.8rem;font-weight:700}
    h2{font-family:"Playfair Display",serif;font-size:clamp(28px,3.2vw,42px);margin:8px 0 10px}
    p{color:#e8e8e8}
    .grid{display:grid;gap:18px}
    .grid--3{grid-template-columns:repeat(3,1fr)}
    .grid--2{grid-template-columns:repeat(2,1fr)}
    @media(max-width:900px){.grid--3,.grid--2{grid-template-columns:1fr}}
    .card{background:linear-gradient(180deg,#121212,#0e0e0e);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:22px;transition:border-color .2s}
    .card:hover{border-color:rgba(238,183,201,.55)}
    .thumb{height:200px;border-radius:12px;background:#0f0f0f center/cover no-repeat;margin-bottom:12px}
    input,select,textarea{width:100%;background:#111;color:#fff;border:1px solid #2a2a2a;border-radius:12px;padding:14px;font-size:15px;outline:none;transition:.2s}
    input::placeholder,textarea::placeholder{color:#999}
    select{background-color:#111;color:#fff;background-image:url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23ffffff' d='M5.5 7.5l4.5 4.5 4.5-4.5'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:38px}
    input:focus,select:focus,textarea:focus{border-color:var(--blush);box-shadow:0 0 0 3px rgba(238,183,201,.25)}
    .snap{display:grid;grid-auto-flow:column;gap:14px;overflow:auto;scroll-snap-type:x mandatory;padding-bottom:6px;scroll-behavior:smooth}
    .snap::-webkit-scrollbar{height:6px}.snap::-webkit-scrollbar-thumb{background:#222;border-radius:999px}
    .quote{min-width:360px;max-width:420px;scroll-snap-align:start}
    .stars{color:var(--blush);letter-spacing:2px}
    footer{padding:70px 0}.foot{display:grid;gap:18px;grid-template-columns:2fr 1fr 1fr}
    @media(max-width:900px){.foot{grid-template-columns:1fr}}
    .small{color:#bfbfbf;font-size:13px}.muted{color:#999}

    /* === Luxury Chat Launcher (custom) === */
    /* Hide Botpress default launcher */
    .bpw-floating-button,.bpw-launcher{ display:none !important; }

    /* Container always on top */
    #lux-chat{ position:fixed; right:22px; bottom:22px; z-index:2147483647; display:flex; flex-direction:column; align-items:flex-end; gap:10px; }

    /* Teaser pill */
    #luxTeaser{
      padding:10px 14px; border-radius:999px;
      background: rgba(255,255,255,0.06);
      backdrop-filter: blur(10px);
      border:1px solid rgba(255,255,255,0.12);
      color:#fff; font:500 14px/1.2 Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;
      box-shadow:0 10px 24px rgba(0,0,0,.35);
      opacity:0; transform:translateX(8px);
      transition:all .4s ease;
      pointer-events:none; /* visual only */
    }
    #luxTeaser.show{ opacity:1; transform:translateX(0); }

    /* Round bubble */
    #luxBubble{
      position: relative;
      width:64px; height:64px; border-radius:50%;
      border:1px solid rgba(255,255,255,0.16);
      background: radial-gradient(120% 120% at 30% 20%, #ff8ecb 0%, #ff5bb3 50%, #c43fff 100%);
      box-shadow:0 12px 30px rgba(196, 63, 255, .35), inset 0 0 22px rgba(255,255,255,.18);
      display:grid; place-items:center; cursor:pointer;
      transition: transform .15s ease, box-shadow .3s ease, filter .3s ease;
    }
    #luxBubble:hover{ transform: translateY(-2px); filter:brightness(1.06); }
    #luxBubble img{ width:28px; height:28px; object-fit:contain; border-radius:6px; filter:drop-shadow(0 2px 6px rgba(0,0,0,.3)); }
    #luxBubble::after{
      content:""; position:absolute; inset:-3px; border-radius:50%;
      background: conic-gradient(from 0deg, rgba(255,255,255,.2), rgba(255,255,255,0) 40%, rgba(255,255,255,.2) 100%);
      opacity:.25; filter: blur(6px); pointer-events:none;
    }
    #luxBubble.open{ box-shadow:0 12px 34px rgba(255,215,0,.35), inset 0 0 28px rgba(255,255,255,.22); }

    @media (max-width:520px){
      #lux-chat{ right:12px; bottom:14px; }
      #luxBubble{ width:58px; height:58px; }
    }
  </style>
</head>
<body>
  <div class="topbar">
    <div class="topbar__inner">
      <div class="brand">Luma Aesthetics</div>
      <nav class="links">
        <a href="#services">Treatments</a>
        <a href="#testimonials">Testimonials</a>
        <a href="#book">Book</a>
      </nav>
      <button class="burger" id="burger" aria-label="Open menu"><span></span></button>
    </div>
  </div>
  <nav class="drawer" id="drawer">
    <a href="#services">Treatments</a>
    <a href="#testimonials">Testimonials</a>
    <a href="#book">Book</a>
  </nav>

  <header class="hero">
    <div class="hero__wrap">
      <div class="hero__img">
        <div class="hero__veil"></div>
        <div class="hero__copy">
          <div class="hero__inner">
            <h1 class="title">Where Luxury Meets Skin</h1>
            <p class="sub">Experience cutting-edge beauty treatments tailored to you.</p>
            <div class="cta">
              <a class="btn btn--blush" href="#book">Book Now</a>
              <a class="btn btn--ghost" href="#services">Explore Treatments</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <section id="services">
    <div class="container">
      <div class="kicker">Treatments</div>
      <h2>Curated Care, Crafted for Results</h2>
      <div class="grid grid--3" style="margin-top:18px">
        <a class="card" href="#book">
          <div class="thumb" style="background-image:url('botox.PNG')"></div>
          <h3>Botox & Fillers</h3>
          <p class="small">Targeted smoothing and subtle volume for a youthful glow.</p>
        </a>
        <a class="card" href="#book">
          <div class="thumb" style="background-image:url('laser.PNG')"></div>
          <h3>Laser Hair Removal</h3>
          <p class="small">Long-term reduction with minimal downtime.</p>
        </a>
        <a class="card" href="#book">
          <div class="thumb" style="background-image:url('facials.PNG')"></div>
          <h3>Facials & Skincare</h3>
          <p class="small">Clinically-designed facials for clarity, tone, and texture.</p>
        </a>
      </div>
    </div>
  </section>

  <section id="testimonials">
    <div class="container">
      <div class="kicker">Testimonials</div>
      <h2>Five-Star Experiences</h2>
      <div class="snap">
        <div class="card quote"><div class="stars">★★★★★</div><p>“I booked at midnight and got confirmed first thing. Luma is elite.”</p><p class="small">— A.M.</p></div>
        <div class="card quote"><div class="stars">★★★★★</div><p>“Luxury vibe, zero pressure, results on point. I’m obsessed.”</p><p class="small">— K.R.</p></div>
        <div class="card quote"><div class="stars">★★★★★</div><p>“Fast intake, stunning space, and a team that really listens.”</p><p class="small">— D.S.</p></div>
      </div>
    </div>
  </section>

  <section id="book">
    <div class="container">
      <div class="kicker">Book Now</div>
      <h2>Reserve Your Visit</h2>
      <div class="grid grid--2" style="margin-top:18px">
        <div class="card">
          <form id="bookingForm" style="display:grid;gap:14px">
            <div class="grid grid--2">
              <input name="name" placeholder="Full Name" required/>
              <input type="tel" name="phone" placeholder="Phone" required/>
            </div>
            <div class="grid grid--2">
              <input type="email" name="email" placeholder="Email" required/>
              <select name="service" required>
                <option value="" disabled selected>Select Service</option>
                <option>Botox & Fillers</option>
                <option>Laser Hair Removal</option>
                <option>Facials & Skincare</option>
              </select>
            </div>
            <div class="grid grid--2">
              <input type="date" name="date" required/>
              <input type="time" name="time" required/>
            </div>
            <textarea rows="4" name="notes" placeholder="Notes (optional)"></textarea>
            <button class="btn btn--blush" type="submit">Submit Request</button>
            <div id="formMsg" class="small muted"></div>
          </form>
        </div>
        <div class="card" style="padding:0;overflow:hidden">
          <div style="height:100%;min-height:340px;background:#0f0f0f url('studio.PNG') center/cover no-repeat;"></div>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container foot">
      <div><div class="kicker">Luma Aesthetics</div><h3 style="font-family:Playfair Display,serif;margin:8px 0 10px">Where luxury meets skin.</h3>
        <p class="small">123 Rose Ave, Suite 100 • City, ST 90000<br/>Mon–Sat 9am–7pm</p></div>
      <div><div class="kicker">Contact</div><p class="small">hello@luma.com • (000) 000-0000</p></div>
      <div><div class="kicker">Explore</div><p class="small"><a href="#services">Treatments</a> • <a href="#testimonials">Reviews</a> • <a href="#book">Book</a></p></div>
    </div>
  </footer>

  <script>
    // Mobile nav
    const burger=document.getElementById('burger'),drawer=document.getElementById('drawer');
    burger?.addEventListener('click',()=>drawer.classList.toggle('open'));
    drawer.querySelectorAll('a').forEach(a=>a.addEventListener('click',()=>drawer.classList.remove('open')));
    window.addEventListener('scroll',()=>drawer.classList.remove('open'));

    // Booking form -> Apps Script endpoint
    document.getElementById('bookingForm').addEventListener('submit',async e=>{
      e.preventDefault();
      const form=e.target,msg=document.getElementById('formMsg');
      const fd=new FormData(form);
      fd.append('source','website-form');
      fd.append('page_url',location.href);
      msg.textContent="Sending…";
      try{
        const res=await fetch(window.PILOT_ENDPOINT,{method:'POST',body:fd});
        const text=await res.text();
        let ok=false;try{ok=JSON.parse(text).ok===true}catch(_){ok=/ok/i.test(text);}
        if(ok){msg.textContent="✅ Request received — we’ll confirm shortly.";form.reset();}
        else{msg.textContent="⚠️ Server error. Check deployment access.";console.error(text);}
      }catch(err){msg.textContent="⚠️ Network error. Check Console.";console.error(err);}
    });
  </script>

  <!-- LUXURY CHAT LAUNCHER (Custom bubble → Botpress) -->
  <div id="lux-chat" aria-live="polite">
    <div id="luxTeaser">💬 Chat with our concierge — <b>Hablamos español</b></div>
    <button id="luxBubble" aria-label="Open chat">
      <img src="l-logo.PNG" alt="Luma Concierge"/>
    </button>
  </div>

  <!-- Botpress Webchat (stable, no iframe) -->
  <script src="https://cdn.botpress.cloud/webchat/v3.3/inject.js"></script>
  <script src="https://files.bpcontent.cloud/2025/10/09/17/20251009173228-A9M2AU59.js"></script>

  <script>
  (function(){
    const bubble = document.getElementById('luxBubble');
    const teaser = document.getElementById('luxTeaser');

    // show teaser after a moment; hide on first interaction
    setTimeout(()=>teaser.classList.add('show'), 1200);
    ['mouseenter','click','touchstart'].forEach(evt=>{
      bubble.addEventListener(evt, ()=>teaser.classList.remove('show'), { once:true });
    });

    // Queue click until SDK ready; toggle open/close
    let pendingClick = false, isOpen = false;

    function bp(){ return window.botpressWebChat; }
    function ready(){ return bp() && typeof bp().open==='function' && typeof bp().close==='function'; }

    // keep state in sync
    const sync = () => {
      if (!ready() || !bp().onEvent) return;
      bp().onEvent(ev=>{
        if (ev.type==='webchat:opened'){ isOpen = true;  bubble.classList.add('open'); }
        if (ev.type==='webchat:closed'){ isOpen = false; bubble.classList.remove('open'); }
      });
    };

    bubble.addEventListener('click', ()=>{
      if (!ready()){ pendingClick = true; return; }
      if (isOpen) bp().close(); else bp().open();
    });

    const iv = setInterval(()=>{
      if (!ready()) return;
      sync();
      if (pendingClick){ bp().open(); pendingClick=false; }
      clearInterval(iv);
    }, 120);
    window.addEventListener('load', ()=>{ if (ready()) { sync(); } });
  })();
  </script>
</body>
</html>
